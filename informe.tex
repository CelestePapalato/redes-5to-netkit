\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\title{TP Redes 5to Informática}
\author{Maite Lukasiunas, Marko Martín, Celeste Papalato }

\begin{document}

\maketitle

\section{SWITCH}

\text{\setlength{\parskip}{4mm}Un SWITCH es un equipo de interconexión utilizado para conectar equipos de red, formando las redes de área local LAN. El SWITCH es el elemento central de la topología en la red.}

\includegraphics[width=\textwidth]{SWITCH.jpg}

\textit{Topología}:

PC1[0]=”A”

PC2[0]=”B”

SWITCH[0]=”A”

SWITCH[1]=”B”

\text{\setlength{\parskip}{10mm}\textbf{En PC1}:}

\text{\setlength{\parskip}{4mm}
//Activamos la placa de red:
}

ifconfig eth0 192.168.0.1 up


\text{\setlength{\parskip}{4mm}\textbf{En PC2}: 

//Activamos la placa de red:
}

ifconfig eth0 192.168.0.2 up

\text{\setlength{\parskip}{4mm}\textbf{En SWITCH}:

//Activamos las placas de red:
}

ifconfig eth0 up

ifconfig eth1 up

\text{\setlength{\parskip}{4mm}
//Creamos un puente entre las placas de ethernet:
}

brctl add br0

\text{\setlength{\parskip}{4mm}
//Añadimos la primer placa:
}

brctl addif br0 eth0

\text{\setlength{\parskip}{4mm}
//Añadimos la segunda placa:
}

brctl addif br0 eth1

\text{\setlength{\parskip}{4mm}
//Activamos el puente:
}

ifconfig br0 up

\text{\setlength{\parskip}{10mm}Ahora el switch podrá enviar los paquetes de las 2 PC debido a que conectamos las placas de ethernet con un \textit{bridge}. }

\section{STP}

\text{\setlength{\parskip}{4mm}Spamming Tree Protocol es un protocolo encargado de evitar los bucles en topologías de red, para esto se cambia la topología de forma lógica y se mantiene a las estaciones de trabajo informadas de la nueva estructura.}

\includegraphics[width=\textwidth]{STP.jpg}

\textit{Topología}:

PC1[0]="A"

PC2[0]="C"

PC3[0]="D"

SW1[0]="A"

SW1[1]="B"

SW2[0]="B"

SW2[1]="C"

SW2[2]="D"

\text{\setlength{\parskip}{10mm}\textbf{En PC1}:}

ifconfig eth0 192.168.0.1 up

\text{\setlength{\parskip}{4mm}
//PC1 será el \textit{sniffer} del sistema.
}

tcpdump -r - &

\text{\setlength{\parskip}{4mm}\textbf{En PC2}:}

ifconfig eth0 192.168.0.2 up

\text{\setlength{\parskip}{4mm}\textbf{En PC3}:}

ifconfig eth0 192.168.0.3 up

\text{\setlength{\parskip}{4mm}\textbf{En SW1}:}

ifconfig eth0 up

ifconfig eth1 up

ifconfig eth0 hw ether 00:00:00:00:01:01

brctl addbr br0

brctl addif br0 eth0

brctl addif br0 eth1

\text{\setlength{\parskip}{4mm}//Con este comando activamos el protocolo STP}

brctl stp br0 on

ifconfig br0 up


\text{\setlength{\parskip}{4mm}\textbf{En SW2}:}

ifconfig eth0 up

ifconfig eth1 up

ifconfig eth2 up

ifconfig eth0 hw ether 00:00:00:00:02:01

brctl addbr br0

brctl addif br0 eth0

brctl stp br0 on

ifconfig br0 up

\text{\setlength{\parskip}{4mm}Ahora crearemos un nuevo puente, uno que conecte las placas de ethernet 1 y 2 del SWITCH 2. En PC1, el sniffer, veremos que obtendremos paquetes de datos de cambio de topología

\includegraphics[width=\textwidth]{STP_1.jpg}}
\includegraphics[width=\textwidth]{STP_2.jpg}

\section{VLAN}

\includegraphics[width=\textwidth]{VLAN.jpg}

\textit{Topología}:

PC1[0]="A"

PC2[0]="B"

PC3[0]="C"

PC4[0]="F"


SW1[0]="C"

SW1[1]="A"

SW1[2]="D"

SW1[3]="B"

SW2[0]="D"

SW2[1]="F"

SW2[2]="E"

ROUTER[0]="E"

\text{\setlength{\parskip}{15mm}\textbf{En ROUTER}:}

ifconfig eth0 up

vconfig add eth0 100

ifconfig eth0.100 up

vconfig add eth0 200

ifconfig eth0.200 up

ifconfig eth0.200 192.168.1.1 up

ifconfig eth0.100 192.168.0.1 up

\text{\setlength{\parskip}{4mm}\textbf{En PC1}:}

ifconfig eth0 192.168.0.2 up

route add default gw 192.168.0.1

\text{\setlength{\parskip}{4mm}\textbf{En PC2}:}

ifconfig eth0 192.168.0.3 up

route add default gw 192.168.0.1

\text{\setlength{\parskip}{4mm}\textbf{En PC3}:}

ifconfig eth0 192.168.1.2 up

route add default gw 192.168.1.1

\text{\setlength{\parskip}{4mm}\textbf{En PC4}:}

ifconfig eth0 192.168.1.3 up

route add default gw 192.168.1.1

\text{\setlength{\parskip}{4mm}\textbf{En SW1}:}

ifconfig eth0 up

ifconfig eth1 up

ifconfig eth2 up

ifconfig eth3 up

\text{\setlength{\parskip}{4mm}\textbf{En SW2}:}

ifconfig eth0 up

ifconfig eth1 up

ifconfig eth2 up

\text{\setlength{\parskip}{10mm}\textbf{FUENTES:}}

https://es.wikipedia.org/wiki/Spanning_tree

http://www.netkit.org/netkit-labs/netkit-labs_advanced-topics/netkit-labs_spanning-tree/netkit-lab_spanning-tree.pdf

http://wiki.netkit.org/index.php/Labs_Official

\end{document}
